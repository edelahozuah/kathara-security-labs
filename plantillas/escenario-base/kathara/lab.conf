LAB_NAME="Template_Base_kathara"
LAB_DESCRIPTION="Plantilla base con VPN WireGuard, desktop VNC y salida a Internet"
LAB_VERSION="1.0"
LAB_AUTHOR="kathara-security-labs"

base[0]="LAN"
base[image]="kathara/base"
base[mem]="512m"
base[env]="BASE_CIDR=192.168.0.2/24"
base[env]="LAN_GW=192.168.0.1"
base[folder]="./shared"
base[bind]="/shared"

router[0]="LAN"
router[1]="WAN"
router[image]="kathara/base"
router[mem]="256m"
router[sysctl]="net.ipv4.ip_forward=1"
router[env]="LAN_ROUTER_CIDR=192.168.0.1/24"
router[env]="WAN_ROUTER_CIDR=10.255.0.2/30"
router[env]="WAN_GW=10.255.0.1"
router[folder]="./shared"
router[bind]="/shared"

natgw[0]="WAN"
natgw[image]="kathara/base"
natgw[mem]="256m"
natgw[bridged]="true"
natgw[sysctl]="net.ipv4.ip_forward=1"
natgw[env]="WAN_GW_CIDR=10.255.0.1/30"
natgw[env]="WAN_ROUTER_IP=10.255.0.2"
natgw[env]="LAN_NET=192.168.0.0/24"
natgw[env]="NAT_NETS=192.168.0.0/24"
natgw[folder]="./shared"
natgw[bind]="/shared"

vpn[0]="LAN"
vpn[image]="kathara-vpn"
vpn[mem]="256m"
vpn[bridged]="true"
vpn[sysctl]="net.ipv4.ip_forward=1"
vpn[port]="51820:51820/udp"
vpn[env]="WG_ENDPOINT=CHANGE_ME_HOST_OR_DNS"
vpn[env]="WG_CLIENT_NAME=student1"
vpn[env]="WG_CLIENT_CIDR=10.99.0.2/32"
vpn[env]="WG_SERVER_CIDR=10.99.0.1/24"
vpn[env]="WG_ALLOWED_IPS=192.168.0.0/24"
vpn[env]="VPN_LAN_CIDR=192.168.0.4/24"
vpn[env]="LAN_NET=192.168.0.0/24"
vpn[env]="WG_NET=10.99.0.0/24"
vpn[env]="VPN_ACCESS_NETS=192.168.0.0/24"
vpn[folder]="./shared"
vpn[bind]="/shared"

desktop[0]="LAN"
desktop[image]="kathara-desktop"
desktop[mem]="1024m"
desktop[env]="DESKTOP_CIDR=192.168.0.5/24"
desktop[env]="LAN_GW=192.168.0.1"
desktop[folder]="./shared"
desktop[bind]="/shared"

# ------------------------------------------------------------------
# EXTENSION ZONE: add your own internal network nodes below.
#
# Example:
# interno1[0]="LAN"
# interno1[1]="INT1"
# interno1[image]="kathara/base"
# interno1[env]="INT1_LAN_CIDR=192.168.0.10/24"
# interno1[env]="INT1_INT_CIDR=172.16.10.10/24"
#
# If you add extra routed subnets, also update:
# - vpn[env]="WG_ALLOWED_IPS=192.168.0.0/24,172.16.10.0/24"
# - vpn[env]="VPN_ACCESS_NETS=192.168.0.0/24,172.16.10.0/24"
# - natgw[env]="NAT_NETS=192.168.0.0/24,172.16.10.0/24"
# ------------------------------------------------------------------
